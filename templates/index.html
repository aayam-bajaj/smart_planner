<!DOCTYPE html>
<html>
<head>
    <title>Smart Route Planner</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body { margin: 0; padding: 0; }
        #map { height: 100vh; width: 100%; }
        .info { padding: 6px 8px; font: 14px/16px Arial, Helvetica, sans-serif; background: white; background: rgba(255,255,255,0.8); box-shadow: 0 0 15px rgba(0,0,0,0.2); border-radius: 5px; }
        .info h4 { margin: 0 0 5px; color: #777; }
        .profile-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 1000; /* Ensures it's on top of the map */
            background: rgba(255, 255, 255, 0.9);
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
            font-family: Arial, Helvetica, sans-serif;
            width: 200px;
        }
.profile-controls h4 {
    margin-top: 0;
    margin-bottom: 10px;
    text-align: center;
}
.control-group {
    margin-bottom: 10px;
}
.slider {
    width: 100%;
}
    </style>
</head>
<body>
    <div id="map"></div>
    <div class="profile-controls">
        <h4>My Preferences</h4>
        <div class="control-group">
            <label for="slope">Max Slope (%): <span id="slopeValue">4</span>%</label>
            <input type="range" id="slope" min="0" max="15" value="4" class="slider">
        </div>
        <div class="control-group">
            <label for="comfort">Comfort Weight: <span id="comfortValue">0.8</span></label>
            <input type="range" id="comfort" min="0" max="1" value="0.8" step="0.1" class="slider">
        </div>
        <div class="control-group">
            <label>Disliked Surfaces:</label>
            <div>
                <input type="checkbox" id="gravel" name="surface" value="gravel" checked>
                <label for="gravel">Gravel</label>
            </div>
        </div>

        <div class="control-group">
            <button id="save-profile" style="margin-top: 10px; padding: 6px 12px; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer;">Save as Profile</button>
        </div>

        <h4 style="margin-top: 20px;">Saved Profiles</h4>
        <div id="profile-list" style="max-height: 200px; overflow-y: auto;">
            <p style="font-size: 12px; color: #666;">Loading profiles...</p>
        </div>

        <h4 style="margin-top: 20px;">Route Comparison</h4>
        <div class="control-group">
            <p style="font-size: 12px; color: #666; margin: 5px 0;">Click "Calculate Routes" to compare all three route options simultaneously.</p>
        </div>

        <button id="calculate-routes" style="margin-top: 15px; padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Calculate Routes</button>

        <div id="route-comparison" style="margin-top: 15px; display: none;">
            <h5>Route Comparison</h5>
            <div id="route-stats"></div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>